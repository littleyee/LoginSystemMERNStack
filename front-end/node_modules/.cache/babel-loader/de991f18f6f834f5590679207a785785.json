{"ast":null,"code":"var _jsxFileName = \"/Users/xuasong/Documents/GitHub/react/front-end/src/components/medication-management-list.js\";\nimport React, { Component } from \"react\";\nimport PersonManagementDataService from \"../services/person-management.service\";\nimport MedicationManagementDataService from \"../services/medication-management.service\";\nimport { Link } from \"react-router-dom\";\nimport Form from \"react-validation/build/form\";\nimport Input from \"react-validation/build/input\";\nimport Select from \"react-validation/build/select\";\nimport CheckButton from \"react-validation/build/button\";\nimport { vrequired, vemail, vdate } from \"../common/validators\";\nimport { vfirstName, vlastName, vaddress, vcity, vzip } from \"../common/person-validators\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class MedicationManagementList extends Component {\n  constructor(props) {\n    super(props);\n    this.onChangeSearchMedication = this.onChangeSearchMedication.bind(this);\n    this.deleteMedicationManagement = this.deleteMedicationManagement.bind(this);\n    this.retrieveMedicationManagement = this.retrieveMedicationManagement.bind(this);\n    this.refreshList = this.refreshList.bind(this);\n    this.setActiveMedicationManagement = this.setActiveMedicationManagement.bind(this);\n    this.searchMedication = this.searchMedication.bind(this);\n    this.state = {\n      person_id: this.props.match.params.person_id,\n      // null,\n      medicationManagement: [],\n      currentMedicationManagement: null,\n      currentIndex: -1,\n      searchParams: {\n        medication: \"\"\n      }\n    };\n  }\n\n  componentDidMount() {\n    //this.getPersonManagement(this.props.match.params.person_id);\n    this.retrieveMedicationManagement();\n  }\n\n  onChangeSearchMedication(e) {\n    const searchMedication = e.target.value;\n    this.setState({\n      searchParams: { ...this.state.searchParams,\n        medication: searchMedication\n      }\n    });\n    console.log(this.state);\n  }\n\n  deleteMedicationManagement() {\n    MedicationManagementDataService.delete(this.state.currentMedicationManagement.medication_id).then(() => {\n      window.location.reload();\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n\n  retrieveMedicationManagement() {\n    MedicationManagementDataService.getAll(this.state.person_id).then(response => {\n      this.setState({\n        medicationManagement: response.data\n      });\n      console.log(response.data);\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n\n  searchMedication() {\n    this.setState({\n      currentMedicationManagement: null,\n      currentIndex: -1\n    });\n    MedicationManagementDataService.findMedication(this.state.searchParams).then(response => {\n      this.setState({\n        medicationManagement: response.data\n      });\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n\n  refreshList() {\n    this.retrieveMedicationManagement();\n    this.setState({\n      currentMedicationManagement: null,\n      currentIndex: -1\n    });\n  }\n\n  setActiveMedicationManagement(medicationManagement, index) {\n    console.log(medicationManagement);\n    this.setState({\n      currentMedicationManagement: medicationManagement,\n      currentIndex: index\n    });\n  }\n\n  render() {\n    const {\n      medicationManagement,\n      currentMedicationManagement,\n      currentIndex\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"list row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-group mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            placeholder: \"Medication Name\",\n            value: this.state.searchParams.medication,\n            onChange: this.onChangeSearchMedication\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-group-append\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-outline-secondary\",\n              type: \"button\",\n              onClick: this.searchMedication,\n              children: \"Search\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-6\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"table table-striped\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"Medication\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"Measurement\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"Frequency\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: medicationManagement && medicationManagement.map((medicationManagement, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n              role: \"row\",\n              onClick: () => this.setActiveMedicationManagement(medicationManagement, index),\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: medicationManagement.medication\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: medicationManagement.measurement\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: medicationManagement.frequency\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 21\n              }, this)]\n            }, medicationManagement.medication_id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-6\",\n        children: currentMedicationManagement ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Medication Info\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Medication:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 17\n            }, this), \" \", currentMedicationManagement.medication]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Medication Measurement:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 17\n            }, this), \" \", currentMedicationManagement.medicationMeasurement]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Medication Frequency:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 17\n            }, this), \" \", currentMedicationManagement.medicationFrequencies]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Prescribe by:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 17\n            }, this), \" \", currentMedicationManagement.prescribed_by]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Prescribe on:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 17\n            }, this), \" \", currentMedicationManagement.prescribed_on]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Pharmacy:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 17\n            }, this), \" \", currentMedicationManagement.pharmacy]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/medication-management/\" + currentMedicationManagement.medication_id,\n            className: \"btn btn-primary btn-block\",\n            children: \"Edit Medication\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-danger btn-block\",\n            onClick: this.deleteMedicationManagement,\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Please click on a medication record...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/Users/xuasong/Documents/GitHub/react/front-end/src/components/medication-management-list.js"],"names":["React","Component","PersonManagementDataService","MedicationManagementDataService","Link","Form","Input","Select","CheckButton","vrequired","vemail","vdate","vfirstName","vlastName","vaddress","vcity","vzip","MedicationManagementList","constructor","props","onChangeSearchMedication","bind","deleteMedicationManagement","retrieveMedicationManagement","refreshList","setActiveMedicationManagement","searchMedication","state","person_id","match","params","medicationManagement","currentMedicationManagement","currentIndex","searchParams","medication","componentDidMount","e","target","value","setState","console","log","delete","medication_id","then","window","location","reload","catch","getAll","response","data","findMedication","index","render","map","measurement","frequency","medicationMeasurement","medicationFrequencies","prescribed_by","prescribed_on","pharmacy"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,2BAAP,MAAwC,uCAAxC;AACA,OAAOC,+BAAP,MAA4C,2CAA5C;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,IAAP,MAAiB,6BAAjB;AACA,OAAOC,KAAP,MAAkB,8BAAlB;AACA,OAAOC,MAAP,MAAmB,+BAAnB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,SAASC,SAAT,EAAoBC,MAApB,EAA4BC,KAA5B,QAAyC,sBAAzC;AACA,SAASC,UAAT,EAAqBC,SAArB,EAAgCC,QAAhC,EAA0CC,KAA1C,EAAiDC,IAAjD,QAA6D,6BAA7D;;AAGA,eAAe,MAAMC,wBAAN,SAAuChB,SAAvC,CAAiD;AAC9DiB,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,wBAAL,GAAgC,KAAKA,wBAAL,CAA8BC,IAA9B,CAAmC,IAAnC,CAAhC;AAEA,SAAKC,0BAAL,GAAkC,KAAKA,0BAAL,CAAgCD,IAAhC,CAAqC,IAArC,CAAlC;AACA,SAAKE,4BAAL,GAAoC,KAAKA,4BAAL,CAAkCF,IAAlC,CAAuC,IAAvC,CAApC;AACA,SAAKG,WAAL,GAAmB,KAAKA,WAAL,CAAiBH,IAAjB,CAAsB,IAAtB,CAAnB;AACA,SAAKI,6BAAL,GAAqC,KAAKA,6BAAL,CAAmCJ,IAAnC,CAAwC,IAAxC,CAArC;AACA,SAAKK,gBAAL,GAAwB,KAAKA,gBAAL,CAAsBL,IAAtB,CAA2B,IAA3B,CAAxB;AAEA,SAAKM,KAAL,GAAa;AACXC,MAAAA,SAAS,EAAE,KAAKT,KAAL,CAAWU,KAAX,CAAiBC,MAAjB,CAAwBF,SADxB;AACkC;AAC7CG,MAAAA,oBAAoB,EAAE,EAFX;AAGXC,MAAAA,2BAA2B,EAAE,IAHlB;AAIXC,MAAAA,YAAY,EAAE,CAAC,CAJJ;AAMXC,MAAAA,YAAY,EAAE;AACZC,QAAAA,UAAU,EAAE;AADA;AANH,KAAb;AAUD;;AACDC,EAAAA,iBAAiB,GAAG;AAClB;AAEA,SAAKb,4BAAL;AACD;;AAEDH,EAAAA,wBAAwB,CAACiB,CAAD,EAAI;AAC1B,UAAMX,gBAAgB,GAAGW,CAAC,CAACC,MAAF,CAASC,KAAlC;AACA,SAAKC,QAAL,CAAc;AACZN,MAAAA,YAAY,EAAE,EAAE,GAAG,KAAKP,KAAL,CAAWO,YAAhB;AAA8BC,QAAAA,UAAU,EAAET;AAA1C;AADF,KAAd;AAGAe,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKf,KAAjB;AACD;;AAEDL,EAAAA,0BAA0B,GAAG;AAC3BnB,IAAAA,+BAA+B,CAACwC,MAAhC,CAAuC,KAAKhB,KAAL,CAAWK,2BAAX,CAAuCY,aAA9E,EACGC,IADH,CACQ,MAAM;AACVC,MAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACD,KAHH,EAIGC,KAJH,CAISZ,CAAC,IAAI;AACVI,MAAAA,OAAO,CAACC,GAAR,CAAYL,CAAZ;AACD,KANH;AAOD;;AAEDd,EAAAA,4BAA4B,GAAG;AAC7BpB,IAAAA,+BAA+B,CAAC+C,MAAhC,CAAuC,KAAKvB,KAAL,CAAWC,SAAlD,EACGiB,IADH,CACQM,QAAQ,IAAI;AAChB,WAAKX,QAAL,CAAc;AACZT,QAAAA,oBAAoB,EAAEoB,QAAQ,CAACC;AADnB,OAAd;AAGAX,MAAAA,OAAO,CAACC,GAAR,CAAYS,QAAQ,CAACC,IAArB;AACD,KANH,EAOGH,KAPH,CAOSZ,CAAC,IAAI;AACVI,MAAAA,OAAO,CAACC,GAAR,CAAYL,CAAZ;AACD,KATH;AAUD;;AAEDX,EAAAA,gBAAgB,GAAG;AACjB,SAAKc,QAAL,CAAc;AACZR,MAAAA,2BAA2B,EAAE,IADjB;AAEZC,MAAAA,YAAY,EAAE,CAAC;AAFH,KAAd;AAKA9B,IAAAA,+BAA+B,CAACkD,cAAhC,CAA+C,KAAK1B,KAAL,CAAWO,YAA1D,EACGW,IADH,CACQM,QAAQ,IAAI;AAChB,WAAKX,QAAL,CAAc;AACZT,QAAAA,oBAAoB,EAAEoB,QAAQ,CAACC;AADnB,OAAd;AAGD,KALH,EAMGH,KANH,CAMSZ,CAAC,IAAI;AACVI,MAAAA,OAAO,CAACC,GAAR,CAAYL,CAAZ;AACD,KARH;AASD;;AAEDb,EAAAA,WAAW,GAAG;AACZ,SAAKD,4BAAL;AACA,SAAKiB,QAAL,CAAc;AACZR,MAAAA,2BAA2B,EAAE,IADjB;AAEZC,MAAAA,YAAY,EAAE,CAAC;AAFH,KAAd;AAID;;AAEDR,EAAAA,6BAA6B,CAACM,oBAAD,EAAuBuB,KAAvB,EAA8B;AAACb,IAAAA,OAAO,CAACC,GAAR,CAAYX,oBAAZ;AAC1D,SAAKS,QAAL,CAAc;AACZR,MAAAA,2BAA2B,EAAED,oBADjB;AAEZE,MAAAA,YAAY,EAAEqB;AAFF,KAAd;AAID;;AAEDC,EAAAA,MAAM,GAAG;AACP,UAAM;AAAExB,MAAAA,oBAAF;AAAwBC,MAAAA,2BAAxB;AAAqDC,MAAAA;AAArD,QAAsE,KAAKN,KAAjF;AAEA,wBACE;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA,8BACE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA,+BACE;AAAK,UAAA,SAAS,EAAC,kBAAf;AAAA,kCACE;AACE,YAAA,IAAI,EAAC,MADP;AAEE,YAAA,SAAS,EAAC,cAFZ;AAGE,YAAA,WAAW,EAAC,iBAHd;AAIE,YAAA,KAAK,EAAE,KAAKA,KAAL,CAAWO,YAAX,CAAwBC,UAJjC;AAKE,YAAA,QAAQ,EAAE,KAAKf;AALjB;AAAA;AAAA;AAAA;AAAA,kBADF,eASE;AAAK,YAAA,SAAS,EAAC,oBAAf;AAAA,mCACE;AACE,cAAA,SAAS,EAAC,2BADZ;AAEE,cAAA,IAAI,EAAC,QAFP;AAGE,cAAA,OAAO,EAAE,KAAKM,gBAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBATF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF,eAuBE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA,+BAGE;AAAO,UAAA,SAAS,EAAC,qBAAjB;AAAA,kCACE;AAAA,mCACE;AAAA,sCACE;AAAI,gBAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE;AAAI,gBAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFF,eAGE;AAAI,gBAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAHF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBADF,eAQE;AAAA,sBACGK,oBAAoB,IACnBA,oBAAoB,CAACyB,GAArB,CAAyB,CAACzB,oBAAD,EAAuBuB,KAAvB,kBACvB;AACE,cAAA,IAAI,EAAC,KADP;AAGE,cAAA,OAAO,EAAE,MAAM,KAAK7B,6BAAL,CAAmCM,oBAAnC,EAAyDuB,KAAzD,CAHjB;AAAA,sCAKE;AAAA,0BAAKvB,oBAAoB,CAACI;AAA1B;AAAA;AAAA;AAAA;AAAA,sBALF,eAME;AAAA,0BAAKJ,oBAAoB,CAAC0B;AAA1B;AAAA;AAAA;AAAA;AAAA,sBANF,eAOE;AAAA,0BAAK1B,oBAAoB,CAAC2B;AAA1B;AAAA;AAAA;AAAA;AAAA,sBAPF;AAAA,eAEO3B,oBAAoB,CAACa,aAF5B;AAAA;AAAA;AAAA;AAAA,oBADF;AAFJ;AAAA;AAAA;AAAA;AAAA,kBARF;AAAA;AAAA;AAAA;AAAA;AAAA;AAHF;AAAA;AAAA;AAAA;AAAA,cAvBF,eAoDE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA,kBACGZ,2BAA2B,gBAC1B;AAAA,kCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAGE;AAAA,oCACE;AAAA,qCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBADF,EAGW,GAHX,EAIGA,2BAA2B,CAACG,UAJ/B;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHF,eAUE;AAAA,oCACE;AAAA,qCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBADF,EAGW,GAHX,EAIGH,2BAA2B,CAAC2B,qBAJ/B;AAAA;AAAA;AAAA;AAAA;AAAA,kBAVF,eAiBE;AAAA,oCACE;AAAA,qCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBADF,EAGW,GAHX,EAIG3B,2BAA2B,CAAC4B,qBAJ/B;AAAA;AAAA;AAAA;AAAA;AAAA,kBAjBF,eAwBE;AAAA,oCACE;AAAA,qCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBADF,EAGW,GAHX,EAIG5B,2BAA2B,CAAC6B,aAJ/B;AAAA;AAAA;AAAA;AAAA;AAAA,kBAxBF,eA+BE;AAAA,oCACE;AAAA,qCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBADF,EAGW,GAHX,EAIG7B,2BAA2B,CAAC8B,aAJ/B;AAAA;AAAA;AAAA;AAAA;AAAA,kBA/BF,eAsCE;AAAA,oCACE;AAAA,qCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBADF,EAGW,GAHX,EAIG9B,2BAA2B,CAAC+B,QAJ/B;AAAA;AAAA;AAAA;AAAA;AAAA,kBAtCF,eA+CE,QAAC,IAAD;AACE,YAAA,EAAE,EAAE,4BAA4B/B,2BAA2B,CAACY,aAD9D;AAEE,YAAA,SAAS,EAAC,2BAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBA/CF,eAsDE;AACE,YAAA,SAAS,EAAC,0BADZ;AAEE,YAAA,OAAO,EAAE,KAAKtB,0BAFhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAtDF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAD0B,gBAgE1B;AAAA,kCACE;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AAjEJ;AAAA;AAAA;AAAA;AAAA,cApDF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAgID;;AA9N6D","sourcesContent":["import React, { Component } from \"react\";\nimport PersonManagementDataService from \"../services/person-management.service\";\nimport MedicationManagementDataService from \"../services/medication-management.service\";\nimport { Link } from \"react-router-dom\";\nimport Form from \"react-validation/build/form\";\nimport Input from \"react-validation/build/input\";\nimport Select from \"react-validation/build/select\";\nimport CheckButton from \"react-validation/build/button\";\nimport { vrequired, vemail, vdate } from \"../common/validators\";\nimport { vfirstName, vlastName, vaddress, vcity, vzip } from \"../common/person-validators\";\n\n\nexport default class MedicationManagementList extends Component {\n  constructor(props) {\n    super(props);\n    this.onChangeSearchMedication = this.onChangeSearchMedication.bind(this);\n\n    this.deleteMedicationManagement = this.deleteMedicationManagement.bind(this);\n    this.retrieveMedicationManagement = this.retrieveMedicationManagement.bind(this);\n    this.refreshList = this.refreshList.bind(this);\n    this.setActiveMedicationManagement = this.setActiveMedicationManagement.bind(this);\n    this.searchMedication = this.searchMedication.bind(this);\n\n    this.state = {\n      person_id: this.props.match.params.person_id,// null,\n      medicationManagement: [],\n      currentMedicationManagement: null,\n      currentIndex: -1,\n      \n      searchParams: {\n        medication: \"\",\n      }\n    }\n  }\n  componentDidMount() {\n    //this.getPersonManagement(this.props.match.params.person_id);\n    \n    this.retrieveMedicationManagement();\n  }\n\n  onChangeSearchMedication(e) {\n    const searchMedication = e.target.value;\n    this.setState({ \n      searchParams: { ...this.state.searchParams, medication: searchMedication} \n    });\n    console.log(this.state);\n  }\n\n  deleteMedicationManagement() {    \n    MedicationManagementDataService.delete(this.state.currentMedicationManagement.medication_id)\n      .then(() => {\n        window.location.reload();\n      })\n      .catch(e => {\n        console.log(e);\n      });\n  }\n\n  retrieveMedicationManagement() {\n    MedicationManagementDataService.getAll(this.state.person_id)\n      .then(response => {\n        this.setState({\n          medicationManagement: response.data\n        });\n        console.log(response.data);\n      })\n      .catch(e => {\n        console.log(e);\n      });\n  }\n\n  searchMedication() {\n    this.setState({\n      currentMedicationManagement: null,\n      currentIndex: -1\n    });\n\n    MedicationManagementDataService.findMedication(this.state.searchParams)\n      .then(response => {\n        this.setState({\n          medicationManagement: response.data\n        });\n      })\n      .catch(e => {\n        console.log(e);\n      });\n  }\n\n  refreshList() {\n    this.retrieveMedicationManagement();\n    this.setState({\n      currentMedicationManagement: null,\n      currentIndex: -1\n    });\n  }\n\n  setActiveMedicationManagement(medicationManagement, index) {console.log(medicationManagement);\n    this.setState({\n      currentMedicationManagement: medicationManagement,\n      currentIndex: index\n    });\n  }\n\n  render() {\n    const { medicationManagement, currentMedicationManagement, currentIndex } = this.state;\n\n    return (\n      <div className=\"list row\">\n        <div className=\"col-md-8\">\n          <div className=\"input-group mb-3\">\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              placeholder=\"Medication Name\"\n              value={this.state.searchParams.medication}\n              onChange={this.onChangeSearchMedication}\n            />\n           \n            <div className=\"input-group-append\">\n              <button\n                className=\"btn btn-outline-secondary\"\n                type=\"button\"\n                onClick={this.searchMedication}\n              >\n                Search\n              </button>\n            </div>\n          </div>\n        </div>\n       \n        <div className=\"col-md-6\">\n          {/* <h4>Person List</h4> */}\n\n          <table className=\"table table-striped\">\n            <thead>\n              <tr>\n                <th scope=\"col\">Medication</th>\n                <th scope=\"col\">Measurement</th>\n                <th scope=\"col\">Frequency</th>\n              </tr>\n            </thead>\n            <tbody>\n              {medicationManagement &&\n                medicationManagement.map((medicationManagement, index) => (\n                  <tr \n                    role=\"row\" \n                    key={medicationManagement.medication_id}\n                    onClick={() => this.setActiveMedicationManagement(medicationManagement, index)}\n                  > \n                    <td>{medicationManagement.medication}</td>\n                    <td>{medicationManagement.measurement}</td>\n                    <td>{medicationManagement.frequency}</td>\n\n                  </tr>\n                ))}\n            </tbody>\n          </table>\n        </div>\n\n        <div className=\"col-md-6\">\n          {currentMedicationManagement ? ( \n            <div>\n              <h4>Medication Info</h4>\n              \n              <div>\n                <label>\n                  <strong>Medication:</strong>\n                </label>{\" \"}\n                {currentMedicationManagement.medication} \n              </div>\n\n              <div>\n                <label>\n                  <strong>Medication Measurement:</strong>\n                </label>{\" \"}\n                {currentMedicationManagement.medicationMeasurement}\n              </div>\n\n              <div>\n                <label>\n                  <strong>Medication Frequency:</strong>\n                </label>{\" \"}\n                {currentMedicationManagement.medicationFrequencies}\n              </div>\n\n              <div>\n                <label>\n                  <strong>Prescribe by:</strong>\n                </label>{\" \"}\n                {currentMedicationManagement.prescribed_by}\n              </div>\n\n              <div>\n                <label>\n                  <strong>Prescribe on:</strong>\n                </label>{\" \"}\n                {currentMedicationManagement.prescribed_on}\n              </div>\n\n              <div>\n                <label>\n                  <strong>Pharmacy:</strong>\n                </label>{\" \"}\n                {currentMedicationManagement.pharmacy}\n              </div>\n\n\n              \n              <Link\n                to={\"/medication-management/\" + currentMedicationManagement.medication_id}\n                className=\"btn btn-primary btn-block\"\n              >\n                Edit Medication\n              </Link>\n              \n              <button\n                className=\"btn btn-danger btn-block\"\n                onClick={this.deleteMedicationManagement}\n              >\n                Delete\n              </button>\n\n            </div>\n          ) : (\n            <div>\n              <br />\n              <p>Please click on a medication record...</p>\n            </div>\n          )}\n        </div>\n    \n        \n        </div>\n    )       \n  }\n}\n"]},"metadata":{},"sourceType":"module"}