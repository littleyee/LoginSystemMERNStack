{"ast":null,"code":"var _jsxFileName = \"/Users/xuasong/Documents/GitHub/react/front-end/src/components/medication-management-list.js\";\nimport React, { Component } from \"react\";\nimport PersonManagementDataService from \"../services/person-management.service\";\nimport MedicationManagementDataService from \"../services/medication-management.service\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class MedicationManagementList extends Component {\n  constructor(props) {\n    super(props);\n    this.onChangeSearchMedication = this.onChangeSearchMedication.bind(this);\n    this.deleteMedicationManagement = this.deleteMedicationManagement.bind(this);\n    this.retrieveMedicationManagement = this.retrieveMedicationManagement.bind(this);\n    this.refreshList = this.refreshList.bind(this);\n    this.setActiveMedicationManagement = this.setActiveMedicationManagement.bind(this);\n    this.searchMedication = this.searchMedication.bind(this);\n    this.state = {\n      person_id: this.props.match.params.person_id,\n      // null,\n      medicationManagement: [],\n      currentMedicationManagement: null,\n      currentIndex: -1,\n      searchParams: {\n        medication: \"\"\n      }\n    };\n  }\n\n  componentDidMount() {\n    //this.getPersonManagement(this.props.match.params.person_id);\n    this.retrieveMedicationManagement();\n  }\n\n  onChangeSearchMedication(e) {\n    const searchMedication = e.target.value;\n    this.setState({\n      searchParams: { ...this.state.searchParams,\n        medication: searchMedication\n      }\n    });\n    console.log(this.state);\n  }\n\n  deleteMedicationManagement() {\n    MedicationManagementDataService.delete(this.state.currentMedicationManagement.medication_id).then(() => {\n      window.location.reload();\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n\n  retrieveMedicationManagement() {\n    MedicationManagementDataService.getAll(this.state.person_id).then(response => {\n      this.setState({\n        medicationManagement: response.data\n      });\n      console.log(response.data);\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n\n  searchMedication() {\n    this.setState({\n      currentMedicationManagement: null,\n      currentIndex: -1\n    });\n    MedicationManagementDataService.findMedication(this.state.searchParams).then(response => {\n      this.setState({\n        medicationManagement: response.data\n      });\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n\n  refreshList() {\n    this.retrieveMedicationManagement();\n    this.setState({\n      currentMedicationManagement: null,\n      currentIndex: -1\n    });\n  }\n\n  setActiveMedicationManagement(medicationManagement, index) {\n    console.log(medicationManagement);\n    this.setState({\n      currentMedicationManagement: medicationManagement,\n      currentIndex: index\n    });\n  }\n\n  render() {\n    const {\n      medicationManagement,\n      currentMedicationManagement,\n      currentIndex\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"list row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-group mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            placeholder: \"Medication Name\",\n            value: this.state.searchParams.medication,\n            onChange: this.onChangeSearchMedication\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-group-append\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-outline-secondary\",\n              type: \"button\",\n              onClick: this.searchMedication,\n              children: \"Search\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-6\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"table table-striped\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"Medication\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"Measurement\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"Frequency\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: medicationManagement && medicationManagement.map((medicationManagement, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n              role: \"row\",\n              onClick: () => this.setActiveMedicationManagement(medicationManagement, index),\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: medicationManagement.medication\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: medicationManagement.measurement\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: medicationManagement.frequency\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 21\n              }, this)]\n            }, medicationManagement.medication_id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary btn-block\",\n          children: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 19\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/Users/xuasong/Documents/GitHub/react/front-end/src/components/medication-management-list.js"],"names":["React","Component","PersonManagementDataService","MedicationManagementDataService","Link","MedicationManagementList","constructor","props","onChangeSearchMedication","bind","deleteMedicationManagement","retrieveMedicationManagement","refreshList","setActiveMedicationManagement","searchMedication","state","person_id","match","params","medicationManagement","currentMedicationManagement","currentIndex","searchParams","medication","componentDidMount","e","target","value","setState","console","log","delete","medication_id","then","window","location","reload","catch","getAll","response","data","findMedication","index","render","map","measurement","frequency"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport PersonManagementDataService from \"../services/person-management.service\";\n\nimport MedicationManagementDataService from \"../services/medication-management.service\";\n\nimport { Link } from \"react-router-dom\";\n\nexport default class MedicationManagementList extends Component {\n  constructor(props) {\n    super(props);\n    this.onChangeSearchMedication = this.onChangeSearchMedication.bind(this);\n\n    this.deleteMedicationManagement = this.deleteMedicationManagement.bind(this);\n    this.retrieveMedicationManagement = this.retrieveMedicationManagement.bind(this);\n    this.refreshList = this.refreshList.bind(this);\n    this.setActiveMedicationManagement = this.setActiveMedicationManagement.bind(this);\n    this.searchMedication = this.searchMedication.bind(this);\n\n    this.state = {\n      person_id: this.props.match.params.person_id,// null,\n      medicationManagement: [],\n      currentMedicationManagement: null,\n      currentIndex: -1,\n      \n      searchParams: {\n        medication: \"\",\n      }\n    }\n  }\n  componentDidMount() {\n    //this.getPersonManagement(this.props.match.params.person_id);\n    \n    this.retrieveMedicationManagement();\n  }\n\n  onChangeSearchMedication(e) {\n    const searchMedication = e.target.value;\n    this.setState({ \n      searchParams: { ...this.state.searchParams, medication: searchMedication} \n    });\n    console.log(this.state);\n  }\n\n  deleteMedicationManagement() {    \n    MedicationManagementDataService.delete(this.state.currentMedicationManagement.medication_id)\n      .then(() => {\n        window.location.reload();\n      })\n      .catch(e => {\n        console.log(e);\n      });\n  }\n\n  retrieveMedicationManagement() {\n    MedicationManagementDataService.getAll(this.state.person_id)\n      .then(response => {\n        this.setState({\n          medicationManagement: response.data\n        });\n        console.log(response.data);\n      })\n      .catch(e => {\n        console.log(e);\n      });\n  }\n\n  searchMedication() {\n    this.setState({\n      currentMedicationManagement: null,\n      currentIndex: -1\n    });\n\n    MedicationManagementDataService.findMedication(this.state.searchParams)\n      .then(response => {\n        this.setState({\n          medicationManagement: response.data\n        });\n      })\n      .catch(e => {\n        console.log(e);\n      });\n  }\n\n  refreshList() {\n    this.retrieveMedicationManagement();\n    this.setState({\n      currentMedicationManagement: null,\n      currentIndex: -1\n    });\n  }\n\n  setActiveMedicationManagement(medicationManagement, index) {console.log(medicationManagement);\n    this.setState({\n      currentMedicationManagement: medicationManagement,\n      currentIndex: index\n    });\n  }\n\n  render() {\n    const { medicationManagement, currentMedicationManagement, currentIndex } = this.state;\n\n    return (\n      <div className=\"list row\">\n        <div className=\"col-md-8\">\n          <div className=\"input-group mb-3\">\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              placeholder=\"Medication Name\"\n              value={this.state.searchParams.medication}\n              onChange={this.onChangeSearchMedication}\n            />\n           \n            <div className=\"input-group-append\">\n              <button\n                className=\"btn btn-outline-secondary\"\n                type=\"button\"\n                onClick={this.searchMedication}\n              >\n                Search\n              </button>\n            </div>\n          </div>\n        </div>\n       \n        <div className=\"col-md-6\">\n          {/* <h4>Person List</h4> */}\n\n          <table className=\"table table-striped\">\n            <thead>\n              <tr>\n                <th scope=\"col\">Medication</th>\n                <th scope=\"col\">Measurement</th>\n                <th scope=\"col\">Frequency</th>\n              </tr>\n            </thead>\n            <tbody>\n              {medicationManagement &&\n                medicationManagement.map((medicationManagement, index) => (\n                  <tr \n                    role=\"row\" \n                    key={medicationManagement.medication_id}\n                    onClick={() => this.setActiveMedicationManagement(medicationManagement, index)}\n                  > \n                    <td>{medicationManagement.medication}</td>\n                    <td>{medicationManagement.measurement}</td>\n                    <td>{medicationManagement.frequency}</td>\n\n                    \n                  </tr>\n                ))}\n            </tbody>\n          </table>\n        </div>\n\n        \n        <div className=\"form-group\">\n                  <button className=\"btn btn-primary btn-block\">Save</button>\n        </div>\n            \n        \n        </div>\n    )       \n  }\n}\n"]},"metadata":{},"sourceType":"module"}