{"ast":null,"code":"var _jsxFileName = \"/Users/xuasong/Documents/GitHub/react/front-end/src/App.js\";\nimport React, { Component } from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./App.css\";\nimport { Container, Navbar, Nav, NavDropdown } from 'react-bootstrap';\nimport AuthService from \"./services/auth.service\";\nimport Login from \"./components/login.component\";\nimport Register from \"./components/register.component\";\nimport Forgot from \"./components/forgot.component\";\nimport ForgotUserAccessCode from \"./components/forgot-user-access-code.component\";\nimport ResetPassword from \"./components/reset-password.component\";\nimport Home from \"./components/home.component\";\nimport Profile from \"./components/profile.component\";\nimport ProfileEdit from \"./components/profile-edit.component\";\nimport BoardUser from \"./components/board-user.component\"; //import BoardModerator from \"./components/board-moderator.component\";\n\nimport BoardAdmin from \"./components/board-admin.component\";\nimport PersonManagementCreate from \"./components/person-management-create.component\";\nimport PersonManagement from \"./components/person-management.component\";\nimport PersonManagementList from \"./components/person-management-list\";\nimport MedicationManagementAdd from \"./components/medication-management-add.component\";\nimport MedicationManagement from \"./components/medication-management.component\";\nimport MedicationManagementList from \"./components/medication-management-list\"; // import AuthVerify from \"./common/auth-verify\";\n\nimport EventBus from \"./common/EventBus\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.logOut = this.logOut.bind(this);\n    this.state = {\n      isAdmin: false,\n      currentUser: undefined\n    };\n  }\n\n  componentDidMount() {\n    const user = AuthService.getCurrentUser();\n    console.log(user);\n\n    if (user) {\n      this.setState({\n        currentUser: user,\n        isAdmin: user.roles.includes(\"ROLE_ADMIN\")\n      });\n    }\n\n    EventBus.on(\"logout\", () => {\n      EventBus.remove(\"logout\");\n    });\n  }\n\n  logOut() {\n    AuthService.logout();\n    this.setState({\n      isAdmin: false,\n      currentUser: undefined\n    });\n  }\n\n  render() {\n    const {\n      currentUser,\n      isAdmin\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {\n        bg: \"light\",\n        expand: \"lg\",\n        children: /*#__PURE__*/_jsxDEV(Container, {\n          children: [/*#__PURE__*/_jsxDEV(Navbar.Brand, {\n            href: \"/\",\n            children: \"myHealthcare\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Navbar.Toggle, {\n            \"aria-controls\": \"basic-navbar-nav\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Navbar.Collapse, {\n            id: \"basic-navbar-nav\",\n            children: [/*#__PURE__*/_jsxDEV(Nav, {\n              className: \"me-auto\",\n              children: [/*#__PURE__*/_jsxDEV(Nav.Link, {\n                href: \"/home\",\n                children: \"Home\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 17\n              }, this), isAdmin && [/*#__PURE__*/_jsxDEV(Nav.Link, {\n                href: \"/admin\",\n                children: \"Admin Board\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(NavDropdown, {\n                title: \"Person Management\",\n                id: \"basic-nav-dropdown\",\n                children: [/*#__PURE__*/_jsxDEV(NavDropdown.Item, {\n                  href: \"/person-management\",\n                  children: \"List / Search\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 86,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(NavDropdown.Item, {\n                  href: \"/person-management/create\",\n                  children: \"Create\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 87,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 19\n              }, this)], isAdmin && [/*#__PURE__*/_jsxDEV(Nav.Link, {\n                href: \"/admin\",\n                children: \"Admin Board\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(NavDropdown, {\n                title: \"Medication Management\",\n                id: \"basic-nav-dropdown\",\n                children: [/*#__PURE__*/_jsxDEV(NavDropdown.Item, {\n                  href: \"/medication-management\",\n                  children: \"List / Search\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 93,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(NavDropdown.Item, {\n                  href: \"/medication-management/create\",\n                  children: \"Add Medication\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 94,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 19\n              }, this)], currentUser && [/*#__PURE__*/_jsxDEV(Nav.Link, {\n                href: \"/profile\",\n                children: currentUser.username\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 19\n              }, this)]]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Nav, {\n              className: \"ml-auto\",\n              children: currentUser ? /*#__PURE__*/_jsxDEV(Nav.Link, {\n                href: \"/login\",\n                onClick: this.logOut,\n                children: \"Logout\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 19\n              }, this) : [/*#__PURE__*/_jsxDEV(Nav.Link, {\n                href: \"/login\",\n                children: \"Login\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Nav.Link, {\n                href: \"/register\",\n                children: \"Register\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 19\n              }, this)]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container mt-3\",\n        children: /*#__PURE__*/_jsxDEV(Switch, {\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: [\"/\", \"/home\"],\n            component: Home\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/login\",\n            component: Login\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/register\",\n            component: Register\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/forgot\",\n            component: Forgot\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/forgotUserAccessCode\",\n            component: ForgotUserAccessCode\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/resetPassword\",\n            component: ResetPassword\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/profile\",\n            component: Profile\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/profile/edit\",\n            component: ProfileEdit\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/user\",\n            component: BoardUser\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/admin\",\n            component: BoardAdmin\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/person-management\",\n            component: PersonManagementList\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/person-management/create\",\n            component: PersonManagementCreate\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/person-management/:person_id\",\n            component: PersonManagement\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/medication-management\",\n            component: MedicationManagementList\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/medication-management/add\",\n            component: MedicationManagementAdd\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/medication-management/:person_id\",\n            component: MedicationManagement\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/xuasong/Documents/GitHub/react/front-end/src/App.js"],"names":["React","Component","Switch","Route","Container","Navbar","Nav","NavDropdown","AuthService","Login","Register","Forgot","ForgotUserAccessCode","ResetPassword","Home","Profile","ProfileEdit","BoardUser","BoardAdmin","PersonManagementCreate","PersonManagement","PersonManagementList","MedicationManagementAdd","MedicationManagement","MedicationManagementList","EventBus","App","constructor","props","logOut","bind","state","isAdmin","currentUser","undefined","componentDidMount","user","getCurrentUser","console","log","setState","roles","includes","on","remove","logout","render","username"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./App.css\";\nimport {Container, Navbar, Nav, NavDropdown} from 'react-bootstrap';\n\nimport AuthService from \"./services/auth.service\";\n\nimport Login from \"./components/login.component\";\nimport Register from \"./components/register.component\";\n\nimport Forgot from \"./components/forgot.component\";\nimport ForgotUserAccessCode from \"./components/forgot-user-access-code.component\";\nimport ResetPassword from \"./components/reset-password.component\";\n\nimport Home from \"./components/home.component\";\n\nimport Profile from \"./components/profile.component\";\nimport ProfileEdit from \"./components/profile-edit.component\";\n\nimport BoardUser from \"./components/board-user.component\";\n//import BoardModerator from \"./components/board-moderator.component\";\nimport BoardAdmin from \"./components/board-admin.component\";\n\nimport PersonManagementCreate from \"./components/person-management-create.component\";\nimport PersonManagement from \"./components/person-management.component\";\nimport PersonManagementList from \"./components/person-management-list\";\n\n\nimport MedicationManagementAdd from \"./components/medication-management-add.component\";\nimport MedicationManagement from \"./components/medication-management.component\";\nimport MedicationManagementList from \"./components/medication-management-list\";\n\n// import AuthVerify from \"./common/auth-verify\";\nimport EventBus from \"./common/EventBus\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.logOut = this.logOut.bind(this);\n\n    this.state = {\n      isAdmin: false,\n      currentUser: undefined,\n    };\n  }\n\n  componentDidMount() {\n    const user = AuthService.getCurrentUser();\nconsole.log(user);\n    if (user) {\n      this.setState({\n        currentUser: user,\n        isAdmin: user.roles.includes(\"ROLE_ADMIN\"),\n      });\n    }\n    \n    EventBus.on(\"logout\", () => {\n      EventBus.remove(\"logout\");\n    });\n  }\n\n  logOut() {\n    AuthService.logout();\n    this.setState({\n      isAdmin: false,\n      currentUser: undefined,\n    });\n  }\n\n  render() {\n    const { currentUser, isAdmin } = this.state;\n\n    return (\n      <div>\n        <Navbar bg=\"light\" expand=\"lg\">\n          <Container>\n            <Navbar.Brand href=\"/\">myHealthcare</Navbar.Brand>\n            <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n            <Navbar.Collapse id=\"basic-navbar-nav\">\n              <Nav className=\"me-auto\">\n                <Nav.Link href=\"/home\">Home</Nav.Link>\n                {isAdmin && ([\n                  <Nav.Link href=\"/admin\">Admin Board</Nav.Link>,\n                  <NavDropdown title=\"Person Management\" id=\"basic-nav-dropdown\">\n                    <NavDropdown.Item href=\"/person-management\">List / Search</NavDropdown.Item>\n                    <NavDropdown.Item href=\"/person-management/create\">Create</NavDropdown.Item>\n                  </NavDropdown>\n               ])}\n               {isAdmin && ([\n                  <Nav.Link href=\"/admin\">Admin Board</Nav.Link>,\n                  <NavDropdown title=\"Medication Management\" id=\"basic-nav-dropdown\">\n                    <NavDropdown.Item href=\"/medication-management\">List / Search</NavDropdown.Item>\n                    <NavDropdown.Item href=\"/medication-management/create\">Add Medication</NavDropdown.Item>\n                  </NavDropdown>\n               ])}\n                {currentUser && ([\n                  <Nav.Link href=\"/profile\">{currentUser.username}</Nav.Link>\n                ])}\n              </Nav>\n              <Nav className=\"ml-auto\">\n                {currentUser ? (\n                  <Nav.Link href=\"/login\" onClick={this.logOut}>Logout</Nav.Link>\n                ) : ([\n                  <Nav.Link href=\"/login\">Login</Nav.Link>,\n                  <Nav.Link href=\"/register\">Register</Nav.Link>\n                ])}\n              </Nav>\n            </Navbar.Collapse>\n          </Container>\n        </Navbar>\n\n        <div className=\"container mt-3\">\n          <Switch>\n            <Route exact path={[\"/\", \"/home\"]} component={Home} />\n            <Route exact path=\"/login\" component={Login} />\n            <Route exact path=\"/register\" component={Register} />\n            \n            <Route exact path=\"/forgot\" component={Forgot} />\n            <Route exact path=\"/forgotUserAccessCode\" component={ForgotUserAccessCode} />\n            <Route exact path=\"/resetPassword\" component={ResetPassword} />\n\n            <Route exact path=\"/profile\" component={Profile} />\n            <Route exact path=\"/profile/edit\" component={ProfileEdit} />\n\n            <Route path=\"/user\" component={BoardUser} />\n            <Route path=\"/admin\" component={BoardAdmin} />\n            \n            <Route exact path=\"/person-management\" component={PersonManagementList} />\n            <Route exact path=\"/person-management/create\" component={PersonManagementCreate} />\n            <Route path=\"/person-management/:person_id\" component={PersonManagement} />\n\n            <Route exact path=\"/medication-management\" component={MedicationManagementList} />\n            <Route exact path=\"/medication-management/add\" component={MedicationManagementAdd} />\n            <Route path=\"/medication-management/:person_id\" component={MedicationManagement} />\n          </Switch>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}